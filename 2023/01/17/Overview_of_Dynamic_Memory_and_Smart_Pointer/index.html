
<!DOCTYPE html>
<html lang="en,zh-tw,default">
    
<head>
    <!-- Google Adsense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7510696744137436"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Louis">
    <title>Overview of Dynamic Memory and Smart Pointer - Louis</title>
    <meta name="author" content="ShiRong Liu">
    
        <meta name="keywords" content="hexo,javascript,">
    
    
        <link rel="icon" href="https://LouisSrLiu.github.io/assets/images/logo.jpg">
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ShiRong Liu","sameAs":["https://github.com/s311354","https://www.linkedin.com/in/shirongliu/","mailto:qazqazqaz850@gmail.com"],"image":"https://avatars.githubusercontent.com/u/26519320?v=4"},"articleBody":"Smart pointer object has a ability of taking ownership of pointer:\nonce they take ownership they manage the pointed object by becoming\nresponsible for its deletion at some point.\n\nIntorduction\nThe C++ language allows programmers to manually allocate/deallocate\nmemory by static allocation or dynamic allocation. The static memory is\nallocated from the stack and used for local static objects, for class\nstatic data members and for variables defined outside any function. The\ndynamic memory is allocated from the free store or heap and its\nallocation with new and delete. However, dynamically allocated memory is\nright runtime, known as memory leak, or free the memory when there are\nstill pointers referring to that memory. There is a way to avoid memory\nleak or manage dynamic allocation smartly by using smart pointer.\nIn this post, I would like to try going through the basic concept of\ndynamic memory management, smart pointer, std::unique_ptr, and how it\ncontributes to avoid memory leak issue, definitely lost.\nDynamic Memory Management\nC++ dynamic memory management always follows the order of memory\nallocation, object construction, object destruction, and memory\ndeallocation. A common way to create new object on dynamical memory is\nto use the new and delete\nexpression. Specifically, new allocates memory and constructs the object\non memory, whereas delete destructs the object and releases the\nmemory.\nIn fact, we should deallocate all dynamically allocated memory\nappropriately at the program exit. The reason is that it will lead to\nthe memory leaks, which occur when we allocate heap memory (with new or\nmalloc/calloc) but don't deallocate it.\nFor example, we created a linked list structure container which\ncontains data and a pointer to the next dynamic structure container\nwhich contains data and a pointer to the next dynamic structure\ncontainer ... and so on. And also implemented a function for adding two\nnon-empty linked lists and returning the sum as a linked list.\n12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#include &lt;cstdlib&gt;#include &lt;memory&gt;#include &lt;vector&gt;struct LinkedListNode &#123;    LinkedListNode() : val(0), next(nullptr) &#123;&#125;    LinkedListNode(int x) : val(x), next(nullptr) &#123;&#125;    LinkedListNode(int x, LinkedListNode* next) : val(x), next(next) &#123;&#125;    virtual ~LinkedListNode() &#123;&#125;;    int val;    LinkedListNode* next;&#125;;LinkedListNode* getNewHead(int value) &#123;    LinkedListNode* node ( new LinkedListNode(value, nullptr) );    node-&gt;val = value;    node-&gt;next = nullptr;    return node;&#125;LinkedListNode* insertLinkedlistNode(LinkedListNode* node, int value) &#123;    if (node == nullptr) &#123;        if (value != -1) node = getNewHead(value);        return node;    &#125;    node-&gt;next = insertLinkedlistNode(node-&gt;next, value);    return node;&#125;LinkedListNode* addTwoNumbers(LinkedListNode* l1, LinkedListNode* l2) &#123;    int sum = 0;    LinkedListNode node (0);    LinkedListNode* temp  = &amp;node;    while (sum || l1 || l2 ) &#123;        sum += (l1 ? l1-&gt;val : 0) + (l2 ? l2-&gt;val : 0);        LinkedListNode* next_node = new LinkedListNode(sum%10);        temp-&gt;next = next_node;        temp = temp-&gt;next;        sum /= 10;        if (l1) l1 = l1-&gt;next;        if (l2) l2 = l2-&gt;next;    &#125;    return node.next;&#125;int main () &#123;    std::vector&lt;int&gt; l1 = &#123;2, 4, 3&#125;, l2 = &#123;5, 6, 4&#125;;    std::vector&lt;int&gt; expected_value = &#123;7, 0, 8&#125;;    LinkedListNode* l1_node = nullptr;    LinkedListNode* l2_node = nullptr;    for (int i = 0; i &lt; l1.size(); ++i) &#123;        l1_node = insertLinkedlistNode(l1_node, l1[i]);        l2_node = insertLinkedlistNode(l2_node, l2[i]);    &#125;    LinkedListNode* node = nullptr;    node = addTwoNumbers(l1_node, l2_node);    return 0;&#125;\nIt is possible that calling the LinkedListNode object constructor\nwill allocate while creating a new structure container. However, in this\nexample, since we don't deallocate storage space previously allocated to\nit by a call to operator new and rendering that pointer location\ninvalid, memory deallocation without destructor result in memory\nleak.\n\nUbuntu16# valgrind  --leak-check=full ./dynamic_linkedlistnode.out\n==11540== Memcheck, a memory error detector\n==11540== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.\n==11540== Using Valgrind-3.20.0 and LibVEX; rerun with -h for copyright info\n==11540== Command: ./dynamic_linkedlistnode.out\n==11540==\n==11540==\n==11540== HEAP SUMMARY:\n==11540==     in use at exit: 19,052 bytes in 10 blocks\n==11540==   total heap usage: 13 allocs, 3 frees, 19,088 bytes allocated\n...\n==11540== LEAK SUMMARY:\n==11540==    definitely lost: 36 bytes in 3 blocks\n==11540==    indirectly lost: 72 bytes in 6 blocks\n==11540==      possibly lost: 0 bytes in 0 blocks\n==11540==    still reachable: 18,944 bytes in 1 blocks\n==11540==         suppressed: 0 bytes in 0 blocks\n==11540== Reachable blocks (those to which a pointer was found) are not shown.\n==11540== To see them, rerun with: --leak-check=full --show-leak-kinds=all\n==11540==\n==11540== For lists of detected and suppressed errors, rerun with: -s\n==11540== ERROR SUMMARY: 3 errors from 3 contexts (suppressed: 0 from 0)\n\nSmart Pointer -\nstd::unique_ptr\nSince C++11, smart pointer is nice for when dynamic allocation is\nnecessary. Since any dynamic memory requires a delete, it's much easier,\nmuch safer, and much less error prone to let the smart pointer take care\nof the cleanup, rather than doing it manually.\nFor example, in order to avoid returning dynamic structure container\nand memory leaks, we can manage object through a smart pointer.\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;cstdlib&gt;#include &lt;iostream&gt;#include &lt;memory&gt;#include &lt;vector&gt;struct LinkedListNode&#123;    LinkedListNode() : val(0), next(nullptr) &#123;&#125;    LinkedListNode(int x) : val(x), next(nullptr) &#123;&#125;    LinkedListNode(int x, std::unique_ptr&lt;LinkedListNode&gt; next) : val(x), next(std::move(next)) &#123;&#125;    virtual ~LinkedListNode() &#123;&#125;;    int val;    std::unique_ptr&lt;LinkedListNode&gt; next;&#125;;std::unique_ptr&lt;LinkedListNode&gt; getNewHead(int value)&#123;    std::unique_ptr&lt;LinkedListNode&gt; node ( new LinkedListNode(value, nullptr) );    return node;&#125;std::unique_ptr&lt;LinkedListNode&gt; insertLinkedlistNode(std::unique_ptr&lt;LinkedListNode&gt; node, int value)&#123;    if (node == nullptr) &#123;        if (value != -1) node = getNewHead(value);        return node;    &#125;    node-&gt;next = insertLinkedlistNode(std::move(node-&gt;next), value);    return node;&#125;std::unique_ptr&lt;LinkedListNode&gt; addTwoNumbers(std::unique_ptr&lt;LinkedListNode&gt; l1, std::unique_ptr&lt;LinkedListNode&gt; l2)&#123;    int sum = 0;    std::unique_ptr&lt;LinkedListNode&gt; node (new LinkedListNode(-1));    std::unique_ptr&lt;LinkedListNode&gt; temp  = std::move(node);    while (sum || l1 || l2 ) &#123;        sum += (l1 ? l1-&gt;val : 0) + (l2 ? l2-&gt;val : 0);        temp = insertLinkedlistNode(std::move(temp), sum%10);        sum /= 10;        if (l1) l1 = std::move(l1-&gt;next);        if (l2) l2 = std::move(l2-&gt;next);    &#125;    node = std::move(temp-&gt;next);    return node;&#125;int main () &#123;    std::vector&lt;int&gt; l1 = &#123;2, 4, 3&#125;, l2 = &#123;5, 6, 4&#125;;    std::vector&lt;int&gt; expected_value = &#123;7, 0, 8&#125;;    std::unique_ptr&lt;LinkedListNode&gt; l1_node = nullptr;    std::unique_ptr&lt;LinkedListNode&gt; l2_node = nullptr;    for (int i = 0; i &lt; l1.size(); ++i) &#123;        l1_node = insertLinkedlistNode(std::move(l1_node), l1[i]);        l2_node = insertLinkedlistNode(std::move(l2_node), l2[i]);    &#125;    std::unique_ptr&lt;LinkedListNode&gt; node(new LinkedListNode(0, nullptr));    node = addTwoNumbers(std::move(l1_node), std::move(l2_node));    return 0;&#125;\nBecause the smart pointer object has a ability of taking ownership of\npointer: once they take ownership they manage the pointed object by\nbecoming responsible for its deletion at some point. That's why we can\nfix the memory leak in this case.\n\nUbuntu16# valgrind  --leak-check=full ./smart_pointer_linkedlist.out\n==11581== Memcheck, a memory error detector\n==11581== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.\n==11581== Using Valgrind-3.20.0 and LibVEX; rerun with -h for copyright info\n==11581== Command: ./smart_pointer_linkedlist.out\n==11581==\n==11581==\n==11581== HEAP SUMMARY:\n==11581==     in use at exit: 18,944 bytes in 1 blocks\n==11581==   total heap usage: 30 allocs, 29 frees, 20,328 bytes allocated\n==11581==\n==11581== LEAK SUMMARY:\n==11581==    definitely lost: 0 bytes in 0 blocks\n==11581==    indirectly lost: 0 bytes in 0 blocks\n==11581==      possibly lost: 0 bytes in 0 blocks\n==11581==    still reachable: 18,944 bytes in 1 blocks\n==11581==         suppressed: 0 bytes in 0 blocks\n==11581== Reachable blocks (those to which a pointer was found) are not shown.\n==11581== To see them, rerun with: --leak-check=full --show-leak-kinds=all\n==11581==\n==11581== For lists of detected and suppressed errors, rerun with: -s\n==11581== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n\nReference\n\nCppreference:\nsmart pointers\n\n\nThanks for reading! Feel free to leave the comments below or\nemail to me. Any pieces of\nadvice or discussions are always welcome. :)\n\n","dateCreated":"2023-01-17T00:00:00+08:00","dateModified":"2023-01-17T20:22:48+08:00","datePublished":"2023-01-17T00:00:00+08:00","description":"Smart pointer object has a ability of taking ownership of pointer:\nonce they take ownership they manage the pointed object by becoming\nresponsible for its deletion at some point.","headline":"Overview of Dynamic Memory and Smart Pointer","image":["https://d3p3tllh95j94n.cloudfront.net/wellcome-to-louissrliu/grassland.jpeg"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://louissrliu.github.io/2023/01/17/Overview_of_Dynamic_Memory_and_Smart_Pointer/"},"publisher":{"@type":"Organization","name":"ShiRong Liu","sameAs":["https://github.com/s311354","https://www.linkedin.com/in/shirongliu/","mailto:qazqazqaz850@gmail.com"],"image":"https://avatars.githubusercontent.com/u/26519320?v=4","logo":{"@type":"ImageObject","url":"https://avatars.githubusercontent.com/u/26519320?v=4"}},"url":"https://louissrliu.github.io/2023/01/17/Overview_of_Dynamic_Memory_and_Smart_Pointer/","keywords":"programming, cpp","thumbnailUrl":"https://d3p3tllh95j94n.cloudfront.net/wellcome-to-louissrliu/grassland.jpeg"}</script>
    <meta name="description" content="Smart pointer object has a ability of taking ownership of pointer: once they take ownership they manage the pointed object by becoming responsible for its deletion at some point.">
<meta property="og:type" content="blog">
<meta property="og:title" content="Overview of Dynamic Memory and Smart Pointer">
<meta property="og:url" content="https://louissrliu.github.io/2023/01/17/Overview_of_Dynamic_Memory_and_Smart_Pointer/index.html">
<meta property="og:site_name" content="Louis">
<meta property="og:description" content="Smart pointer object has a ability of taking ownership of pointer: once they take ownership they manage the pointed object by becoming responsible for its deletion at some point.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-01-16T16:00:00.000Z">
<meta property="article:modified_time" content="2023-01-17T12:22:48.972Z">
<meta property="article:author" content="ShiRong Liu">
<meta property="article:tag" content="programming">
<meta property="article:tag" content="cpp">
<meta name="twitter:card" content="summary">
    
    
        
    
    
        <meta property="og:image" content="https://avatars.githubusercontent.com/u/26519320?v=4"/>
    
    
        <meta property="og:image" content="https://d3p3tllh95j94n.cloudfront.net/wellcome-to-louissrliu/grassland.jpeg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://d3p3tllh95j94n.cloudfront.net/wellcome-to-louissrliu/grassland.jpeg"/>
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-ua8mv97snbccvky9cf8kiikycgkc8zmg8mrk5bqztlbbcs7b2vsqjsfvcw1i.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125815034-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-125815034-1');
    </script>


    

    
        
    
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Louis
        </a>
    </div>
    
        
            <a
                class="header-right-icon open-algolia-search"
                href="#search"
                aria-label="Open the link: /#search"
            >
        
        
            <i class="fa fa-search fa-lg"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="https://avatars.githubusercontent.com/u/26519320?v=4" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">ShiRong Liu</h4>
                
                    <h5 class="sidebar-profile-bio"><p>I occasionally write on my website. <br/> I also dabble in GitHub
page, open-source, software development, Linux, and travels in my spare
time.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/s311354"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/in/shirongliu/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:qazqazqaz850@gmail.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Overview of Dynamic Memory and Smart Pointer
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2023-01-17T00:00:00+08:00">
	
		    Jan 17, 2023
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/louissrliu/">louissrliu</a>, <a class="category-link" href="/categories/louissrliu/features/">features</a>


    
    
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>Smart pointer object has a ability of taking ownership of pointer:
once they take ownership they manage the pointed object by becoming
responsible for its deletion at some point.</p>
<span id="more"></span>
<h2 id="intorduction">Intorduction</h2>
<p>The C++ language allows programmers to manually allocate/deallocate
memory by static allocation or dynamic allocation. The static memory is
allocated from the stack and used for local static objects, for class
static data members and for variables defined outside any function. The
dynamic memory is allocated from the free store or heap and its
allocation with new and delete. However, dynamically allocated memory is
right runtime, known as memory leak, or free the memory when there are
still pointers referring to that memory. There is a way to avoid memory
leak or manage dynamic allocation smartly by using smart pointer.</p>
<p>In this post, I would like to try going through the basic concept of
dynamic memory management, smart pointer, std::unique_ptr, and how it
contributes to avoid memory leak issue, definitely lost.</p>
<h2 id="dynamic-memory-management">Dynamic Memory Management</h2>
<p>C++ dynamic memory management always follows the order of memory
allocation, object construction, object destruction, and memory
deallocation. A common way to create new object on dynamical memory is
to use the <a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/new"
title="https://en.cppreference.com/w/cpp/language/new">new</a> and <a
target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/delete"
title="https://en.cppreference.com/w/cpp/language/delete">delete</a>
expression. Specifically, new allocates memory and constructs the object
on memory, whereas delete destructs the object and releases the
memory.</p>
<p>In fact, we should deallocate all dynamically allocated memory
appropriately at the program exit. The reason is that it will lead to
the memory leaks, which occur when we allocate heap memory (with new or
malloc/calloc) but don't deallocate it.</p>
<p>For example, we created a linked list structure container which
contains data and a pointer to the next dynamic structure container
which contains data and a pointer to the next dynamic structure
container ... and so on. And also implemented a function for adding two
non-empty linked lists and returning the sum as a linked list.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;cstdlib&gt;</span><br><span class="line">#include &lt;memory&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line"></span><br><span class="line">struct LinkedListNode &#123;</span><br><span class="line">    LinkedListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="line">    LinkedListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="line">    LinkedListNode(int x, LinkedListNode* next) : val(x), next(next) &#123;&#125;</span><br><span class="line">    virtual ~LinkedListNode() &#123;&#125;;</span><br><span class="line">    int val;</span><br><span class="line">    LinkedListNode* next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">LinkedListNode* getNewHead(int value) &#123;</span><br><span class="line">    LinkedListNode* node ( new LinkedListNode(value, nullptr) );</span><br><span class="line">    node-&gt;val = value;</span><br><span class="line">    node-&gt;next = nullptr;</span><br><span class="line">    return node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LinkedListNode* insertLinkedlistNode(LinkedListNode* node, int value) &#123;</span><br><span class="line">    if (node == nullptr) &#123;</span><br><span class="line">        if (value != -1) node = getNewHead(value);</span><br><span class="line">        return node;</span><br><span class="line">    &#125;</span><br><span class="line">    node-&gt;next = insertLinkedlistNode(node-&gt;next, value);</span><br><span class="line">    return node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LinkedListNode* addTwoNumbers(LinkedListNode* l1, LinkedListNode* l2) &#123;</span><br><span class="line">    int sum = 0;</span><br><span class="line">    LinkedListNode node (0);</span><br><span class="line">    LinkedListNode* temp  = &amp;node;</span><br><span class="line">    while (sum || l1 || l2 ) &#123;</span><br><span class="line">        sum += (l1 ? l1-&gt;val : 0) + (l2 ? l2-&gt;val : 0);</span><br><span class="line">        LinkedListNode* next_node = new LinkedListNode(sum%10);</span><br><span class="line">        temp-&gt;next = next_node;</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">        sum /= 10;</span><br><span class="line">        if (l1) l1 = l1-&gt;next;</span><br><span class="line">        if (l2) l2 = l2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    return node.next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main () &#123;</span><br><span class="line">    std::vector&lt;int&gt; l1 = &#123;2, 4, 3&#125;, l2 = &#123;5, 6, 4&#125;;</span><br><span class="line">    std::vector&lt;int&gt; expected_value = &#123;7, 0, 8&#125;;</span><br><span class="line">    LinkedListNode* l1_node = nullptr;</span><br><span class="line">    LinkedListNode* l2_node = nullptr;</span><br><span class="line">    for (int i = 0; i &lt; l1.size(); ++i) &#123;</span><br><span class="line">        l1_node = insertLinkedlistNode(l1_node, l1[i]);</span><br><span class="line">        l2_node = insertLinkedlistNode(l2_node, l2[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    LinkedListNode* node = nullptr;</span><br><span class="line">    node = addTwoNumbers(l1_node, l2_node);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>It is possible that calling the LinkedListNode object constructor
will allocate while creating a new structure container. However, in this
example, since we don't deallocate storage space previously allocated to
it by a call to operator new and rendering that pointer location
invalid, memory deallocation without destructor result in memory
leak.</p>
<div class="language-shell highlighter-rouge">
<pre class="highlight"><code class="hljs ruby"><span class="nb" style="font-size: 100%">Ubuntu16# valgrind  --leak-check=full ./dynamic_linkedlistnode.out
==11540== Memcheck, a memory error detector
==11540== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==11540== Using Valgrind-3.20.0 and LibVEX; rerun with -h for copyright info
==11540== Command: ./dynamic_linkedlistnode.out
==11540==
==11540==
==11540== HEAP SUMMARY:
==11540==     in use at exit: 19,052 bytes in 10 blocks
==11540==   total heap usage: 13 allocs, 3 frees, 19,088 bytes allocated
...
==11540== LEAK SUMMARY:
==11540==    definitely lost: 36 bytes in 3 blocks
==11540==    indirectly lost: 72 bytes in 6 blocks
==11540==      possibly lost: 0 bytes in 0 blocks
==11540==    still reachable: 18,944 bytes in 1 blocks
==11540==         suppressed: 0 bytes in 0 blocks
==11540== Reachable blocks (those to which a pointer was found) are not shown.
==11540== To see them, rerun with: --leak-check=full --show-leak-kinds=all
==11540==
==11540== For lists of detected and suppressed errors, rerun with: -s
==11540== ERROR SUMMARY: 3 errors from 3 contexts (suppressed: 0 from 0)</span></code></pre>
</div>
<h2 id="smart-pointer---stdunique_ptr">Smart Pointer -
std::unique_ptr</h2>
<p>Since C++11, smart pointer is nice for when dynamic allocation is
necessary. Since any dynamic memory requires a delete, it's much easier,
much safer, and much less error prone to let the smart pointer take care
of the cleanup, rather than doing it manually.</p>
<p>For example, in order to avoid returning dynamic structure container
and memory leaks, we can manage object through a smart pointer.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;cstdlib&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;memory&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line"></span><br><span class="line">struct LinkedListNode</span><br><span class="line">&#123;</span><br><span class="line">    LinkedListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="line">    LinkedListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="line">    LinkedListNode(int x, std::unique_ptr&lt;LinkedListNode&gt; next) : val(x), next(std::move(next)) &#123;&#125;</span><br><span class="line">    virtual ~LinkedListNode() &#123;&#125;;</span><br><span class="line">    int val;</span><br><span class="line">    std::unique_ptr&lt;LinkedListNode&gt; next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">std::unique_ptr&lt;LinkedListNode&gt; getNewHead(int value)</span><br><span class="line">&#123;</span><br><span class="line">    std::unique_ptr&lt;LinkedListNode&gt; node ( new LinkedListNode(value, nullptr) );</span><br><span class="line">    return node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::unique_ptr&lt;LinkedListNode&gt; insertLinkedlistNode(std::unique_ptr&lt;LinkedListNode&gt; node, int value)</span><br><span class="line">&#123;</span><br><span class="line">    if (node == nullptr) &#123;</span><br><span class="line">        if (value != -1) node = getNewHead(value);</span><br><span class="line">        return node;</span><br><span class="line">    &#125;</span><br><span class="line">    node-&gt;next = insertLinkedlistNode(std::move(node-&gt;next), value);</span><br><span class="line">    return node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::unique_ptr&lt;LinkedListNode&gt; addTwoNumbers(std::unique_ptr&lt;LinkedListNode&gt; l1, std::unique_ptr&lt;LinkedListNode&gt; l2)</span><br><span class="line">&#123;</span><br><span class="line">    int sum = 0;</span><br><span class="line">    std::unique_ptr&lt;LinkedListNode&gt; node (new LinkedListNode(-1));</span><br><span class="line">    std::unique_ptr&lt;LinkedListNode&gt; temp  = std::move(node);</span><br><span class="line">    while (sum || l1 || l2 ) &#123;</span><br><span class="line">        sum += (l1 ? l1-&gt;val : 0) + (l2 ? l2-&gt;val : 0);</span><br><span class="line">        temp = insertLinkedlistNode(std::move(temp), sum%10);</span><br><span class="line">        sum /= 10;</span><br><span class="line">        if (l1) l1 = std::move(l1-&gt;next);</span><br><span class="line">        if (l2) l2 = std::move(l2-&gt;next);</span><br><span class="line">    &#125;</span><br><span class="line">    node = std::move(temp-&gt;next);</span><br><span class="line">    return node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main () &#123;</span><br><span class="line">    std::vector&lt;int&gt; l1 = &#123;2, 4, 3&#125;, l2 = &#123;5, 6, 4&#125;;</span><br><span class="line">    std::vector&lt;int&gt; expected_value = &#123;7, 0, 8&#125;;</span><br><span class="line">    std::unique_ptr&lt;LinkedListNode&gt; l1_node = nullptr;</span><br><span class="line">    std::unique_ptr&lt;LinkedListNode&gt; l2_node = nullptr;</span><br><span class="line">    for (int i = 0; i &lt; l1.size(); ++i) &#123;</span><br><span class="line">        l1_node = insertLinkedlistNode(std::move(l1_node), l1[i]);</span><br><span class="line">        l2_node = insertLinkedlistNode(std::move(l2_node), l2[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    std::unique_ptr&lt;LinkedListNode&gt; node(new LinkedListNode(0, nullptr));</span><br><span class="line">    node = addTwoNumbers(std::move(l1_node), std::move(l2_node));</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Because the smart pointer object has a ability of taking ownership of
pointer: once they take ownership they manage the pointed object by
becoming responsible for its deletion at some point. That's why we can
fix the memory leak in this case.</p>
<div class="language-shell highlighter-rouge">
<pre class="highlight"><code class="hljs ruby"><span class="nb" style="font-size: 100%">Ubuntu16# valgrind  --leak-check=full ./smart_pointer_linkedlist.out
==11581== Memcheck, a memory error detector
==11581== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==11581== Using Valgrind-3.20.0 and LibVEX; rerun with -h for copyright info
==11581== Command: ./smart_pointer_linkedlist.out
==11581==
==11581==
==11581== HEAP SUMMARY:
==11581==     in use at exit: 18,944 bytes in 1 blocks
==11581==   total heap usage: 30 allocs, 29 frees, 20,328 bytes allocated
==11581==
==11581== LEAK SUMMARY:
==11581==    definitely lost: 0 bytes in 0 blocks
==11581==    indirectly lost: 0 bytes in 0 blocks
==11581==      possibly lost: 0 bytes in 0 blocks
==11581==    still reachable: 18,944 bytes in 1 blocks
==11581==         suppressed: 0 bytes in 0 blocks
==11581== Reachable blocks (those to which a pointer was found) are not shown.
==11581== To see them, rerun with: --leak-check=full --show-leak-kinds=all
==11581==
==11581== For lists of detected and suppressed errors, rerun with: -s
==11581== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)</span></code></pre>
</div>
<h2 id="reference">Reference</h2>
<ul>
<li><a
target="_blank" rel="noopener" href="https://en.cppreference.com/book/intro/smart_pointers">Cppreference:
smart pointers</a></li>
</ul>
<p>
Thanks for reading! Feel free to leave the comments below or
<a href="mailto:shirong0419@icloud.com">email</a> to me. Any pieces of
advice or discussions are always welcome. :)
</p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/cpp/" rel="tag">cpp</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/programming/" rel="tag">programming</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2023/01/31/How_to_Install_Boost_Cplusplus_Library_in_Docker_Container/"
                    data-tooltip="How to Install Boost C++ Library and Run CI/CD Workflow with Docker Container"
                    aria-label="PREVIOUS: How to Install Boost C++ Library and Run CI/CD Workflow with Docker Container"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2023/01/04/Cpp_assignment_overloading_and_valgrind_memcheck/"
                    data-tooltip="C++ Assignment Overloading and Valgrind Memcheck"
                    aria-label="NEXT: C++ Assignment Overloading and Valgrind Memcheck"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://louissrliu.github.io/2023/01/17/Overview_of_Dynamic_Memory_and_Smart_Pointer/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://louissrliu.github.io/2023/01/17/Overview_of_Dynamic_Memory_and_Smart_Pointer/"
                    title="global.share_on_Twitter"
                    aria-label="global.share_on_Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2023 ShiRong Liu. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2023/01/31/How_to_Install_Boost_Cplusplus_Library_in_Docker_Container/"
                    data-tooltip="How to Install Boost C++ Library and Run CI/CD Workflow with Docker Container"
                    aria-label="PREVIOUS: How to Install Boost C++ Library and Run CI/CD Workflow with Docker Container"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2023/01/04/Cpp_assignment_overloading_and_valgrind_memcheck/"
                    data-tooltip="C++ Assignment Overloading and Valgrind Memcheck"
                    aria-label="NEXT: C++ Assignment Overloading and Valgrind Memcheck"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://louissrliu.github.io/2023/01/17/Overview_of_Dynamic_Memory_and_Smart_Pointer/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://louissrliu.github.io/2023/01/17/Overview_of_Dynamic_Memory_and_Smart_Pointer/"
                    title="global.share_on_Twitter"
                    aria-label="global.share_on_Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://louissrliu.github.io/2023/01/17/Overview_of_Dynamic_Memory_and_Smart_Pointer/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://louissrliu.github.io/2023/01/17/Overview_of_Dynamic_Memory_and_Smart_Pointer/"
                        aria-label="global.share_on_Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>global.share_on_Twitter</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="https://avatars.githubusercontent.com/u/26519320?v=4" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">ShiRong Liu</h4>
        
            <div id="about-card-bio"><p>I occasionally write on my website. <br/> I also dabble in GitHub
page, open-source, software development, Linux, and travels in my spare
time.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Embedded C/C++ Software Engineer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Taiwan
            </div>
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-times"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="/assets/images/logo-algolia-nebula-blue-full.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">no post found</div>
            <div class="results">
                
                <div class="media">
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://louissrliu.github.io/2013/10/02/%E4%B8%AD%E6%96%87%E6%B8%AC%E8%A9%A6/"
                            aria-label=": 中文測試"
                        >
                            <h3 class="media-heading">中文測試</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Oct 2, 2013
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>This is a chinese test post to show you how chinese is displayed.</div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://louissrliu.github.io/2018/10/02/Git-Handbook/"
                            aria-label=": A Beginner&#39;s Guide - Git Handbook"
                        >
                            <h3 class="media-heading">A Beginner&#39;s Guide - Git Handbook</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Oct 2, 2018
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Due to the most time on my job, we need to type many git command
lines. So that this article is used to sort several git commands
frequently used for easily searching.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://louissrliu.github.io/2022/09/01/%E9%96%B1%E8%AE%80%E5%BF%83%E5%BE%97-%E7%AA%AE%E6%9F%A5%E7%90%86%E7%9A%84%E6%99%AE%E9%80%9A%E5%B8%B8%E8%AD%98/"
                            aria-label=": 閱讀心得 POOR CHARlIE&#39;s ALMANACK - 保證生活悲慘的處方"
                        >
                            <h3 class="media-heading">閱讀心得 POOR CHARlIE&#39;s ALMANACK - 保證生活悲慘的處方</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Sep 1, 2022
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>"Most players gain pleasure from feeling accepted or belonging to the
group. The good player however, gains pleasure from his ability to cope
with the realities of the game"</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://louissrliu.github.io/2022/09/28/embed_maplibre_map_for_website/"
                            aria-label=": Embed MapLibre Map for Website"
                        >
                            <h3 class="media-heading">Embed MapLibre Map for Website</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Sep 28, 2022
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>In our daily life, most of us usually use <a
target="_blank" rel="noopener" href="https://www.google.com/maps/"
title="https://www.google.com/maps/">Google Map</a> or <a
target="_blank" rel="noopener" href="https://www.apple.com/maps/"
title="https://www.apple.com/maps/">Apple Maps</a> to help us to
navigate to a place. We can see traffic info, public transit and also
choose our mode of transportation.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://louissrliu.github.io/2022/10/08/%E7%94%9F%E6%B4%BB%E6%9C%AD%E8%A8%98-%E6%B5%B7%E7%B6%BF%E5%AF%B6%E5%AF%B6%E8%9F%B9%E5%A0%A1%E7%8E%8B%E9%A4%90%E5%BB%B3_SpongeBob_SquarePants/"
                            aria-label=": 生活扎記 蟹堡王餐廳 Krusty Krab"
                        >
                            <h3 class="media-heading">生活扎記 蟹堡王餐廳 Krusty Krab</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Oct 8, 2022
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>"After going on your life-changing journey, you now realize that you
don’t want what you thought you wanted. What you really wanted was
inside you all along."</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://louissrliu.github.io/2022/11/06/Drawing_with_mouse_events_on_html/"
                            aria-label=": Drawing with Mouse Events on HTML"
                        >
                            <h3 class="media-heading">Drawing with Mouse Events on HTML</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 6, 2022
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>The HTML canvas can be used for sketching/drawing by mouse. The
canvas API provides a means for drawing graphics via JavaScript and the
HTML element. It largely focuses on 2D graphics. In this post, I would
like to describe how to quickly go about implementing this.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://louissrliu.github.io/2022/11/19/%E7%94%9F%E6%B4%BB%E6%89%8E%E8%A8%98-%E9%A3%9B%E9%BE%8D%E6%B1%A0%E6%AD%A5%E9%81%93%E5%81%A5%E8%A1%8C/"
                            aria-label=": 生活札記 飛龍池步道健行"
                        >
                            <h3 class="media-heading">生活札記 飛龍池步道健行</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 19, 2022
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>這週末來到位於新竹縣新埔鎮的<a
target="_blank" rel="noopener" href="https://hiking.biji.co/index.php?q=trail&amp;act=detail&amp;id=1663"
title="https://hiking.biji.co/index.php?q=trail&amp;act=detail&amp;id=1663">飛龍池登山步道</a>輕鬆健行。這區域內的步道蜿蜒圍繞著山區，古道串連著龍頭公園、忘憂谷、運動公園、三聖宮、採茶古道....。從新竹高鐵區開車到這，距離不遠，人潮也沒有很多，幽靜宜人，而且該區域並不需要申請以及預約即可進入，所以適合週末安排的時段前來健行。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://louissrliu.github.io/2022/12/04/Drawing_with_mouse_and_touch_events_on_html/"
                            aria-label=": Drawing with Mouse and Touch Events on HTML"
                        >
                            <h3 class="media-heading">Drawing with Mouse and Touch Events on HTML</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Dec 4, 2022
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>The HTML canvas can be used for sketching/drawing either by mouse or
by touch. In the <a
href="https://louissrliu.github.io/2022/11/06/Drawing_with_mouse_events_on_html/"
title="https://louissrliu.github.io/2022/11/06/Drawing_with_mouse_events_on_html/">previous
post</a>, I quickly discuss how to use Canvas API to implement a canvas
with mouse sketching. In this post, I would like to describe how go
about implementing for sketching/drawing by mouse and touch.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://louissrliu.github.io/2022/12/12/Introduction_of_Hamming_Code/"
                            aria-label=": Introduction of Hamming Code"
                        >
                            <h3 class="media-heading">Introduction of Hamming Code</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Dec 12, 2022
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Either computer data storage or telecommunication, regardless of the
data storages and transmission, is non-zero probabilities that the data
could be changed while it's being stored or transmitted. There is always
a code-word with block length without free bit-errors. That means the
data probably could be changed while it is being processed or
transmitted. If the machine can't locate the position of the error and
correct it, the information might be lost forever.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://louissrliu.github.io/2022/12/14/Overview_of_Basic_Graph_Traversal_Algorithm/"
                            aria-label=": Overview of Basic Graph Traversal Algorithm"
                        >
                            <h3 class="media-heading">Overview of Basic Graph Traversal Algorithm</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Dec 14, 2022
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>"Graph theory is the study of graphs, which are mathematical
structures used to model pairwise relations between objects. A graph in
this context is made up of vertices (also called nodes or points) which
are connected by edges (also called links or lines). Graphs are one of
the principal objects of study in discrete mathematics." ... from Wiki
page.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="no post found"
                data-message-one="1 post found"
                data-message-other="{n} posts found">
                16 posts found
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/silvergrass.png');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-r3twrubdwx6ajodzglgougec7dsaq3wcjvqfhxesxnmxypo3rtev43r1skdt.min.js"></script>

<!--SCRIPTS END-->
<script src="/assets/js/lazysizes.js"></script>


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://louissrliu.github.io/2023/01/17/Overview_of_Dynamic_Memory_and_Smart_Pointer/';
              
            this.page.identifier = '2023/01/17/Overview_of_Dynamic_Memory_and_Smart_Pointer/';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'shirongliu';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    



    <script>
      var appId = 'N2INP4C5YH'
      var apiKey = 'a254c6a4e95825bd7c2c6eb46f8e9bc3'
      var indexName = 'dev_louissriiu'
    </script>


    </body>
</html>
